'use client'

import type { Address } from 'viem'

import { useQuery } from '@tanstack/react-query'
import type { Claims } from '~evm/claims/rp2/find-claims/route'

interface UseRP2ExploitCheck {
  account: Address | undefined
}

export const useRP2ExploitClaimFinder = ({ account }: UseRP2ExploitCheck) => {
  return useQuery<Claims>({
    queryKey: ['rp2-claims', account],
    queryFn: async () =>
      fetch(`/claims/rp2/find-claims?account=${account}`).then((res) =>
        res.json(),
      ),
  })
}
